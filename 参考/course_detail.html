<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è¯¾ç¨‹è¯¦æƒ…</title>
  <style>
    :root{--bg:#f7f8fb;--card:#fff;--border:#e5e7eb;--text:#1f2937;--muted:#6b7280;--primary:#5b7cff;--green:#22c55e;--red:#ef4444;}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'PingFang SC','Microsoft YaHei',sans-serif}
    a{color:inherit}

    .app{display:grid;grid-template-columns:257px 1fr;height:100vh}
    .sidebar{background:#fff;border-right:1px solid var(--border);padding:20px 16px}
    .menu{display:flex;flex-direction:column;gap:6px;margin-top:8px}
    .menu a{padding:10px 12px;border-radius:8px;color:#334155;text-decoration:none}
    .menu a.active,.menu a:hover{background:#f1f5f9}

    .topbar{background:#fff;border-bottom:1px solid var(--border);padding:12px 20px;display:flex;align-items:center;justify-content:space-between}
    .crumbs{color:var(--muted);font-size:13px;display:flex;align-items:center;gap:8px;flex-wrap:wrap}
    .crumbs a{color:var(--muted);text-decoration:none;padding:4px 8px;border-radius:6px;position:relative;transition:all 0.3s ease;border:1px solid transparent}
    .crumbs a:hover{color:#3b82f6;background:rgba(59,130,246,0.08);border:1px solid rgba(59,130,246,0.2);box-shadow:0 2px 4px rgba(59,130,246,0.1);transform:translateY(-1px)}
    .crumbs > span:not([id]){color:var(--muted);font-weight:300;opacity:0.6;transition:opacity 0.2s ease}
    .crumbs:hover > span:not([id]){opacity:0.8}
    .crumbs span[id]{padding:4px 8px;border-radius:6px;transition:all 0.3s ease;position:relative}
    .crumbs span[id]:hover{background:rgba(16,185,129,0.08);color:#10b981;box-shadow:0 1px 3px rgba(16,185,129,0.1)}

    .content{padding:16px 20px}
    .tabs{display:flex;gap:8px;margin-bottom:12px}
    .tabs button{padding:8px 12px;border:1px solid var(--border);background:#fff;border-radius:8px;cursor:pointer;color:#334155}
    .tabs button.active{background:var(--primary);border-color:var(--primary);color:#fff}

    .panel{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}

    /* å­¦ä¹ æ—¥å¿—ï¼šæ¨ªå‘æ—¶é—´è½´ */
    .timeline{display:flex;gap:16px;align-items:stretch}
    .t-item{width:240px;background:#fff;border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;flex-direction:column;gap:6px}
    .t-time{font-size:12px;color:var(--muted)}
    .t-tag{font-size:12px;padding:2px 6px;border-radius:999px;background:#eef2ff;color:#3730a3;width:max-content}

    /* ä½œä¸šåˆ—è¡¨ */
    .hw-item{border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;justify-content:space-between;align-items:center}
    .hw-item a.btn{padding:8px 10px;border-radius:8px;background:var(--primary);color:#fff;text-decoration:none;white-space:nowrap;min-width:80px;text-align:center}

    /* ç”¨æˆ·ç”»åƒï¼šç®€æ´æŒ‡æ ‡å¡ */
    .metric{border:1px solid var(--border);border-radius:10px;padding:12px;display:flex;align-items:center;gap:12px}
    .ring{width:56px;height:56px;border-radius:50%;background:conic-gradient(var(--green) calc(var(--p)*1%),#e5e7eb 0);display:grid;place-items:center}
    .ring span{background:#fff;border-radius:50%;width:40px;height:40px;display:grid;place-items:center;font-weight:600}

    /* é”™é¢˜è®°å½• */
    .wrong-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
    .btn{padding:8px 16px;border:1px solid var(--border);border-radius:8px;background:var(--card);color:var(--text);cursor:pointer;text-decoration:none;display:inline-block;white-space:nowrap;text-align:center;transition:all 0.2s;font-size:13px;font-weight:500;min-height:36px;line-height:1.4}
    .btn:hover{background:var(--bg);transform:translateY(-1px)}
    
    /* æŒ‰é’®å°ºå¯¸ç»Ÿä¸€åŒ– */
    .btn-sm{padding:6px 12px;font-size:12px;min-height:32px}
    .btn-xs{padding:4px 8px;font-size:11px;min-height:28px}
    .wrong-list{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .wrong-card{border:1px solid var(--border);border-radius:10px;padding:10px}

    /* è§†å›¾å®¹å™¨ï¼ˆä¸æ»šåŠ¨æˆ–æå°‘æ»šåŠ¨ï¼‰ */
    .view{min-height:360px}

    /* é¢˜ç›®ç­›é€‰æŒ‰é’®æ ·å¼ */
    .question-filter {
      transition: all 0.2s ease;
    }
    
    .question-filter:hover {
      border-color: var(--primary);
      color: var(--primary);
    }
    
    .question-filter.active {
      background: var(--primary) !important;
      border-color: var(--primary) !important;
      color: #fff !important;
    }

    /* ç”¨æˆ·ä¸‹æ‹‰èœå•æ ·å¼ */
    .user-dropdown {
      position: relative;
      display: inline-block;
    }
    
    .user-profile-trigger {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      padding: 6px 10px;
      border-radius: 8px;
      transition: all 0.2s ease;
    }
    
    .user-profile-trigger:hover {
      background: rgba(0,0,0,0.05);
    }
    
    .dropdown-menu {
      position: absolute;
      top: 100%;
      right: -5px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      width: 110px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      z-index: 1000;
      margin-top: 5px;
    }
    
    .user-dropdown:hover .dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    
    .dropdown-menu a {
      display: block;
      padding: 12px 16px;
      color: var(--text);
      text-decoration: none;
      border-bottom: 1px solid #f1f5f9;
      transition: background 0.2s;
      text-align: center;
      font-size: 14px;
    }
    
    .dropdown-menu a:last-child {
      border-bottom: none;
    }
    
    .dropdown-menu a:hover {
      background: #f8fafc;
    }
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div style="font-weight:700;color:#64748b">è´µå·å¤§å­¦ï¼ˆå­¦ç”Ÿï¼‰</div>
      <div class="menu">
        <!-- <a href="index.html">è¯¾ç¨‹/è¯¾è¡¨</a> -->
        <a href="#" id="linkLearningRecord" class="active">å­¦ä¹ è®°å½•</a>
        <a href="#" id="linkChapterContent">ç« èŠ‚å†…å®¹</a>
        <a href="#" id="linkCourseTasks">è¯¾ç¨‹ä»»åŠ¡</a>
      </div>
    </aside>
    <main>
      <div class="topbar">
        <div class="crumbs">
      <a href="index.html">è¿”å›</a> 
      <span>/</span> 
      <span id="courseName">é«˜ç­‰æ•°å­¦ï¼ˆä¸Šï¼‰</span> 
      <span>Â·</span> 
      <span>è¯¾ç¨‹è¯¦æƒ…</span>
    </div>
        <div style="display:flex;align-items:center;gap:12px">
          <a href="liveroom.html?course=é«˜ç­‰æ•°å­¦ï¼ˆä¸Šï¼‰&mode=live&from=detail" style="padding:8px 16px;border-radius:8px;background:var(--primary);color:#fff;text-decoration:none;font-size:13px">è¿›å…¥è¯¾å ‚</a>
          <div style="color:#94a3b8;font-size:12px">å­¦å¹´å­¦æœŸ Â· ç¬¬ 2 å‘¨</div>
          <div class="user-dropdown" style="margin-left:16px">
            <div class="user-profile-trigger">
              <span style="color:var(--muted);font-size:13px">123</span>
              <img src="https://picsum.photos/seed/user123/32" style="width:32px;height:32px;border-radius:50%" alt="ç”¨æˆ·å¤´åƒ" />
            </div>
            <div class="dropdown-menu">
              <a href="#" onclick="goToProfile()">
                <span>ä¸ªäººä¸­å¿ƒ</span>
              </a>
              <a href="#" onclick="logout()">
                <span>é€€å‡ºç™»å½•</span>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="content">
                  <div class="tabs">
            <!-- é¡¶éƒ¨tabsç°åœ¨ä¸ºç©ºï¼Œä¸»è¦åŠŸèƒ½ç§»è‡³ä¾§è¾¹æ äºŒçº§èœå• -->
          </div>









        <!-- å­¦ä¹ è®°å½•è§†å›¾ -->
        <section id="viewLearningRecord" class="view">
          <div class="panel">
            <div style="font-weight:600;margin-bottom:16px;color:var(--text)">ğŸ“š å­¦ä¹ è®°å½•</div>
            <!-- äºŒçº§èœå•tabs -->
            <div class="tabs" style="margin-bottom: 20px;">
              <button id="tabLog" class="active">å­¦ä¹ æ—¥å¿—</button>
              <button id="tabProfile">å­¦ä¹ ç”»åƒ</button>
              <button id="tabWrong">é”™é¢˜è®°å½•</button>
            </div>
            
            <!-- å­¦ä¹ æ—¥å¿—å†…å®¹ -->
            <div id="viewLog" class="sub-view">
              <div style="display:flex;flex-direction:column;gap:12px">
                <div style="display:flex;align-items:center;gap:12px">
                  <div style="width:80px;color:var(--muted)">12-15 å‘¨äºŒ</div>
                  <div class="t-item" style="flex:1"><div class="t-time">08:30</div><div class="t-tag">çŸ¥è¯†ç‚¹</div><div>ç¬¬6ç«  å®šç§¯åˆ†çš„åº”ç”¨</div></div>
                  <button class="btn" onclick="viewKnowledgePoint('ç¬¬6ç«  å®šç§¯åˆ†çš„åº”ç”¨')" style="background:var(--primary);color:#fff;border:none">ğŸ“š æŸ¥çœ‹è¯¦æƒ…</button>
                </div>
                <div style="display:flex;align-items:center;gap:12px">
                  <div style="width:80px;color:var(--muted)">12-10 å‘¨å››</div>
                  <div class="t-item" style="flex:1"><div class="t-time">10:00</div><div class="t-tag">ç»ƒä¹ </div><div>å¯¼æ•°è¿ç®—ç»ƒä¹ </div></div>
                  <button class="btn" onclick="startPractice('å¯¼æ•°è¿ç®—ç»ƒä¹ ')" style="background:var(--green);color:#fff;border:none">ğŸ’ª å¼€å§‹ç»ƒä¹ </button>
                </div>
                <div style="display:flex;align-items:center;gap:12px">
                  <div style="width:80px;color:var(--muted)">12-08 å‘¨äºŒ</div>
                  <div class="t-item" style="flex:1"><div class="t-time">08:30</div><div class="t-tag">çŸ¥è¯†ç‚¹</div><div>ç¬¬5ç«  å¾®åˆ†ä¸­å€¼å®šç†</div></div>
                  <button class="btn" onclick="viewKnowledgePoint('ç¬¬5ç«  å¾®åˆ†ä¸­å€¼å®šç†')" style="background:var(--primary);color:#fff;border:none">ğŸ“š æŸ¥çœ‹è¯¦æƒ…</button>
                </div>
                <div style="display:flex;align-items:center;gap:12px">
                  <div style="width:80px;color:var(--muted)">12-03 å‘¨å››</div>
                  <div class="t-item" style="flex:1"><div class="t-time">10:00</div><div class="t-tag">çŸ¥è¯†å›¾è°±</div><div>ç¬¬4ç«  å‡½æ•°çš„å¯¼æ•°</div></div>
                  <button class="btn" onclick="viewKnowledgeGraph('ç¬¬4ç«  å‡½æ•°çš„å¯¼æ•°')" style="background:#8b5cf6;color:#fff;border:none">ğŸŒ æŸ¥çœ‹å›¾è°±</button>
                </div>
                <div style="display:flex;align-items:center;gap:12px">
                  <div style="width:80px;color:var(--muted)">12-01 å‘¨äºŒ</div>
                  <div class="t-item" style="flex:1"><div class="t-time">08:30</div><div class="t-tag">ä½œä¸šè®²è§£</div><div>æé™è®¡ç®—ä¹ é¢˜è®²è§£</div></div>
                  <a class="btn" href="liveroom_off.html?course=é«˜ç­‰æ•°å­¦ï¼ˆä¸Šï¼‰&mode=replay&from=detail&content=æé™è®¡ç®—ä¹ é¢˜è®²è§£" style="background:#f59e0b;color:#fff">ğŸ“º è§‚çœ‹å›æ”¾</a>
                </div>
                <div style="display:flex;align-items:center;gap:12px">
                  <div style="width:80px;color:var(--muted)">11-28 å‘¨å…­</div>
                  <div class="t-item" style="flex:1"><div class="t-time">14:30</div><div class="t-tag">è¡¥è¯¾</div><div>ç¬¬3ç«  å‡½æ•°çš„æé™</div></div>
                  <a class="btn" href="liveroom_off.html?course=é«˜ç­‰æ•°å­¦ï¼ˆä¸Šï¼‰&mode=replay&from=detail&content=ç¬¬3ç«  å‡½æ•°çš„æé™" style="background:#f59e0b;color:#fff">ğŸ“º è§‚çœ‹å›æ”¾</a>
                </div>
              </div>
            </div>

            <!-- å­¦ä¹ ç”»åƒå†…å®¹ -->
            <div id="viewProfile" class="sub-view" style="display:none">
              <!-- çŸ¥è¯†ç‚¹æŒæ¡åº¦æ€»è§ˆ -->
              <div class="panel" style="margin-bottom:20px">
                <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px">
                  <div style="font-weight:600;color:var(--text)">ğŸ¯ çŸ¥è¯†ç‚¹æŒæ¡æƒ…å†µ</div>
                  <span style="background:#e0f2fe;color:#0369a1;padding:2px 8px;border-radius:4px;font-size:11px">æŸ¥ç¼ºè¡¥æ¼</span>
                </div>
                
                <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px">
                  <!-- æé™çŸ¥è¯†ç‚¹ -->
                  <div style="border:1px solid #fecaca;background:linear-gradient(135deg,#fef2f2,#fee2e2);border-radius:10px;padding:14px;position:relative">
                    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
                      <div style="font-weight:600;color:#991b1b">ğŸ“ æé™</div>
                      <span style="background:#ef4444;color:#fff;padding:1px 6px;border-radius:4px;font-size:10px">è–„å¼±</span>
                    </div>
                    <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px">
                      <div style="width:80px;height:6px;background:#f1f5f9;border-radius:3px;overflow:hidden">
                        <div style="width:37%;height:100%;background:#ef4444"></div>
                      </div>
                      <span style="font-size:13px;font-weight:600;color:#ef4444">37%</span>
                    </div>
                    <div style="font-size:11px;color:#991b1b;margin-bottom:8px">
                      <strong>è–„å¼±ç‚¹ï¼š</strong><br>
                      â€¢ é‡è¦æé™å…¬å¼æ··æ·†<br>
                      â€¢ 0/0å‹æé™è®¡ç®—é”™è¯¯<br>
                      â€¢ æ— ç©·å°æ¯”è¾ƒä¸ç†Ÿç»ƒ
                    </div>
                    <button onclick="alert('å¼€å§‹æé™ä¸“é¡¹ç»ƒä¹ ')" class="btn btn-sm" style="width:100%;background:#ef4444;color:#fff;border:none">ğŸ”¥ ä¸“é¡¹çªç ´</button>
                  </div>

                  <!-- å¯¼æ•°çŸ¥è¯†ç‚¹ -->
                  <div style="border:1px solid #fed7aa;background:linear-gradient(135deg,#fff7ed,#fed7aa);border-radius:10px;padding:14px">
                    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
                      <div style="font-weight:600;color:#9a3412">ğŸ“ˆ å¯¼æ•°</div>
                      <span style="background:#f59e0b;color:#fff;padding:1px 6px;border-radius:4px;font-size:10px">å¾…æå‡</span>
                    </div>
                    <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px">
                      <div style="width:80px;height:6px;background:#f1f5f9;border-radius:3px;overflow:hidden">
                        <div style="width:49%;height:100%;background:#f59e0b"></div>
                      </div>
                      <span style="font-size:13px;font-weight:600;color:#f59e0b">49%</span>
                    </div>
                    <div style="font-size:11px;color:#9a3412;margin-bottom:8px">
                      <strong>è–„å¼±ç‚¹ï¼š</strong><br>
                      â€¢ å¤åˆå‡½æ•°æ±‚å¯¼é“¾å¼æ³•åˆ™<br>
                      â€¢ éšå‡½æ•°æ±‚å¯¼æ­¥éª¤<br>
                      â€¢ é«˜é˜¶å¯¼æ•°è®¡ç®—
                    </div>
                    <button onclick="alert('å¼€å§‹å¯¼æ•°å¼ºåŒ–ç»ƒä¹ ')" class="btn btn-sm" style="width:100%;background:#f59e0b;color:#fff;border:none">âš¡ å¼ºåŒ–è®­ç»ƒ</button>
                  </div>

                  <!-- å¾®åˆ†åº”ç”¨çŸ¥è¯†ç‚¹ -->
                  <div style="border:1px solid #bbf7d0;background:linear-gradient(135deg,#f0fdf4,#dcfce7);border-radius:10px;padding:14px">
                    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
                      <div style="font-weight:600;color:#14532d">ğŸ¯ å¾®åˆ†åº”ç”¨</div>
                      <span style="background:#22c55e;color:#fff;padding:1px 6px;border-radius:4px;font-size:10px">è‰¯å¥½</span>
                    </div>
                    <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px">
                      <div style="width:80px;height:6px;background:#f1f5f9;border-radius:3px;overflow:hidden">
                        <div style="width:78%;height:100%;background:#22c55e"></div>
                      </div>
                      <span style="font-size:13px;font-weight:600;color:#22c55e">78%</span>
                    </div>
                    <div style="font-size:11px;color:#14532d;margin-bottom:8px">
                      <strong>ä¼˜åŠ¿ç‚¹ï¼š</strong><br>
                      â€¢ åˆ‡çº¿æ–¹ç¨‹æ±‚è§£ç†Ÿç»ƒ<br>
                      â€¢ å•è°ƒæ€§åˆ¤æ–­å‡†ç¡®<br>
                      â€¢ æå€¼é—®é¢˜ç†è§£æ¸…æ™°
                    </div>
                    <button onclick="alert('ä¿æŒç»ƒä¹ å¾®åˆ†åº”ç”¨')" class="btn btn-sm" style="width:100%;background:#22c55e;color:#fff;border:none">âœ¨ ä¿æŒæ°´å¹³</button>
                  </div>

                  <!-- ç§¯åˆ†çŸ¥è¯†ç‚¹ -->
                  <div style="border:1px solid #fed7aa;background:linear-gradient(135deg,#fff7ed,#fed7aa);border-radius:10px;padding:14px">
                    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
                      <div style="font-weight:600;color:#9a3412">âˆ« ç§¯åˆ†</div>
                      <span style="background:#f59e0b;color:#fff;padding:1px 6px;border-radius:4px;font-size:10px">ä¸€èˆ¬</span>
                    </div>
                    <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px">
                      <div style="width:80px;height:6px;background:#f1f5f9;border-radius:3px;overflow:hidden">
                        <div style="width:55%;height:100%;background:#f59e0b"></div>
                      </div>
                      <span style="font-size:13px;font-weight:600;color:#f59e0b">55%</span>
                    </div>
                    <div style="font-size:11px;color:#9a3412;margin-bottom:8px">
                      <strong>éœ€åŠ å¼ºï¼š</strong><br>
                      â€¢ æ¢å…ƒç§¯åˆ†æ³•æŠ€å·§<br>
                      â€¢ åˆ†éƒ¨ç§¯åˆ†é€‰æ‹©ç­–ç•¥<br>
                      â€¢ å®šç§¯åˆ†åº”ç”¨é¢˜
                    </div>
                    <button onclick="alert('å¼€å§‹ç§¯åˆ†æå‡ç»ƒä¹ ')" class="btn btn-sm" style="width:100%;background:#f59e0b;color:#fff;border:none">ğŸ“š æå‡ç»ƒä¹ </button>
                  </div>
                </div>
              </div>

              <!-- å­¦ä¹ è¯Šæ–­æŠ¥å‘Š -->
              <div class="panel" style="margin-bottom:20px">
                <div style="font-weight:600;margin-bottom:16px;color:var(--text);display:flex;align-items:center;gap:8px">
                  <span>ğŸ”</span>å­¦ä¹ è¯Šæ–­æŠ¥å‘Š
                </div>
                
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
                  <div style="background:#fef3c7;border:1px solid #f59e0b;border-radius:8px;padding:12px">
                    <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
                      <span style="font-size:16px">âš ï¸</span>
                      <span style="font-weight:600;color:#b45309">æ€¥éœ€çªç ´</span>
                    </div>
                    <div style="font-size:12px;color:#8a5700;line-height:1.4">
                      <strong>æé™è®¡ç®—</strong> - é”™é¢˜ç‡63%<br>
                      å»ºè®®ï¼šé‡ç‚¹å¤ä¹ é‡è¦æé™å…¬å¼ï¼Œå¤šåš0/0å‹æé™ç»ƒä¹ é¢˜
                    </div>
                    <button onclick="alert('æŸ¥çœ‹æé™é”™é¢˜é›†')" class="btn btn-xs" style="margin-top:8px;background:transparent;border:1px solid #f59e0b;color:#b45309">æŸ¥çœ‹é”™é¢˜é›†</button>
                  </div>
                  
                  <div style="background:#ecfdf5;border:1px solid #22c55e;border-radius:8px;padding:12px">
                    <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
                      <span style="font-size:16px">ğŸ’ª</span>
                      <span style="font-weight:600;color:#16a34a">ä¼˜åŠ¿ä¿æŒ</span>
                    </div>
                    <div style="font-size:12px;color:#15803d;line-height:1.4">
                      <strong>å¾®åˆ†åº”ç”¨</strong> - æŒæ¡åº¦78%<br>
                      å»ºè®®ï¼šç»§ç»­ä¿æŒï¼Œå¯ä»¥å°è¯•æ›´å¤æ‚çš„åº”ç”¨é¢˜æŒ‘æˆ˜
                    </div>
                    <button onclick="alert('æŸ¥çœ‹è¿›é˜¶ç»ƒä¹ ')" class="btn btn-xs" style="margin-top:8px;background:transparent;border:1px solid #22c55e;color:#16a34a">è¿›é˜¶ç»ƒä¹ </button>
                  </div>
                </div>
              </div>

              <!-- ä¸ªæ€§åŒ–å­¦ä¹ å»ºè®® -->
              <div class="panel">
                <div style="font-weight:600;margin-bottom:16px;color:var(--text);display:flex;align-items:center;gap:8px">
                  <span>ğŸ¯</span>ä¸ªæ€§åŒ–å­¦ä¹ å»ºè®®
                </div>
                
                <div style="display:flex;flex-direction:column;gap:12px">
                  <div style="background:#f0f9ff;border:1px solid #0ea5e9;border-radius:8px;padding:12px">
                    <div style="font-weight:600;color:#0369a1;margin-bottom:6px">ğŸ“… æœ¬å‘¨å­¦ä¹ è®¡åˆ’</div>
                    <div style="font-size:12px;color:var(--text);line-height:1.4">
                      â€¢ å‘¨äºŒï¼šæé™ä¸“é¡¹ç»ƒä¹ 30åˆ†é’Ÿ<br>
                      â€¢ å‘¨å››ï¼šå¯¼æ•°ç»¼åˆé¢˜è®­ç»ƒ45åˆ†é’Ÿ<br>
                      â€¢ å‘¨æ—¥ï¼šå¾®åˆ†åº”ç”¨å·©å›ºç»ƒä¹ 20åˆ†é’Ÿ
                    </div>
                  </div>
                  
                  <div style="background:#fff7e6;border:1px solid #f59e0b;border-radius:8px;padding:12px">
                    <div style="font-weight:600;color:#b45309;margin-bottom:6px">ğŸ² æ¨èå­¦ä¹ æ–¹å¼</div>
                    <div style="font-size:12px;color:var(--text);line-height:1.4">
                      â€¢ ä½¿ç”¨é”™é¢˜æœ¬è®°å½•æ˜“é”™çŸ¥è¯†ç‚¹<br>
                      â€¢ è§‚çœ‹æé™æ¦‚å¿µè§†é¢‘è¯¾ç¨‹å›æ”¾<br>
                      â€¢ å‚åŠ å‘¨ä¸‰æ™šç­”ç–‘è¯¾ï¼Œé‡ç‚¹é—®æé™é—®é¢˜
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- é”™é¢˜è®°å½•å†…å®¹ -->
            <div id="viewWrong" class="sub-view" style="display:none">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
                <div style="color:var(--muted)">å…±æ‰¾åˆ° <span id="questionCount">6</span> é“é”™é¢˜</div>
                <button id="btnRandom" class="btn btn-sm" style="background:var(--primary);color:#fff;border:none">éšæœºç»ƒä¹ </button>
              </div>
              <!-- é¢˜ç›®ç±»å‹ç­›é€‰ -->
              <div style="display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap">
                <button class="question-filter active" data-type="all" style="padding:6px 12px;border:1px solid var(--primary);background:var(--primary);color:#fff;border-radius:6px;cursor:pointer;font-size:12px">å…¨éƒ¨</button>
                <button class="question-filter" data-type="choice" style="padding:6px 12px;border:1px solid var(--border);background:#fff;color:var(--text);border-radius:6px;cursor:pointer;font-size:12px">é€‰æ‹©é¢˜</button>
                <button class="question-filter" data-type="fill" style="padding:6px 12px;border:1px solid var(--border);background:#fff;color:var(--text);border-radius:6px;cursor:pointer;font-size:12px">å¡«ç©ºé¢˜</button>
                <button class="question-filter" data-type="calculation" style="padding:6px 12px;border:1px solid var(--border);background:#fff;color:var(--text);border-radius:6px;cursor:pointer;font-size:12px">è®¡ç®—é¢˜</button>
                <button class="question-filter" data-type="concept" style="padding:6px 12px;border:1px solid var(--border);background:#fff;color:var(--text);border-radius:6px;cursor:pointer;font-size:12px">æ¦‚å¿µé¢˜</button>
              </div>
              <div id="questionList" style="display:flex;flex-direction:column;gap:12px">
                <div class="wrong-card" data-type="fill">
                  <div style="font-weight:600">Q1. æ±‚æé™ lim(xâ†’0) (sin x)/x = ____</div>
                  <div style="color:var(--muted);margin-top:6px">ä½ çš„ç­”æ¡ˆï¼š0ï¼›æ­£ç¡®ç­”æ¡ˆï¼š1</div>
                  <div style="color:var(--red);font-size:12px;margin-top:4px">ğŸ’¡ æç¤ºï¼šè¿™æ˜¯é‡è¦æé™å…¬å¼ï¼Œéœ€ç†Ÿè®°</div>
                </div>
                <div class="wrong-card" data-type="choice">
                  <div style="font-weight:600">Q2. å‡½æ•° f(x) = xÂ³ çš„å¯¼æ•°æ˜¯ï¼Ÿ</div>
                  <div style="color:var(--muted);margin-top:6px">A) xÂ²  B) 3xÂ²  C) 3x  D) xÂ³</div>
                  <div style="color:var(--muted);margin-top:6px">ä½ çš„ç­”æ¡ˆï¼šAï¼›æ­£ç¡®ç­”æ¡ˆï¼šB</div>
                  <div style="color:var(--red);font-size:12px;margin-top:4px">ğŸ’¡ æç¤ºï¼šå¹‚å‡½æ•°æ±‚å¯¼æ³•åˆ™ (xâ¿)' = nÂ·xâ¿â»Â¹</div>
                </div>
                <div class="wrong-card" data-type="calculation">
                  <div style="font-weight:600">Q3. æ±‚å®šç§¯åˆ† âˆ«[0,1] 2x dx = ?</div>
                  <div style="color:var(--muted);margin-top:6px">ä½ çš„ç­”æ¡ˆï¼šxÂ²ï¼›æ­£ç¡®ç­”æ¡ˆï¼š1</div>
                  <div style="color:var(--red);font-size:12px;margin-top:4px">ğŸ’¡ æç¤ºï¼šè®°å¾—ä»£å…¥ä¸Šä¸‹é™è¿›è¡Œè®¡ç®—</div>
                </div>
                <div class="wrong-card" data-type="concept">
                  <div style="font-weight:600">Q4. å‡½æ•°çš„è¿ç»­æ€§å®šä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</div>
                  <div style="color:var(--muted);margin-top:6px">ä½ çš„ç­”æ¡ˆï¼šå‡½æ•°å€¼å­˜åœ¨ï¼›æ­£ç¡®ç­”æ¡ˆï¼šå·¦æé™=å³æé™=å‡½æ•°å€¼</div>
                  <div style="color:var(--red);font-size:12px;margin-top:4px">ğŸ’¡ æç¤ºï¼šè¿ç»­æ€§çš„ä¸‰ä¸ªæ¡ä»¶ç¼ºä¸€ä¸å¯</div>
                </div>
                <div class="wrong-card" data-type="choice">
                  <div style="font-weight:600">Q5. ä¸­å€¼å®šç†çš„å‰ææ¡ä»¶æ˜¯ï¼Ÿ</div>
                  <div style="color:var(--muted);margin-top:6px">A) å¯å¯¼  B) è¿ç»­  C) é—­åŒºé—´è¿ç»­ï¼Œå¼€åŒºé—´å¯å¯¼  D) å•è°ƒ</div>
                  <div style="color:var(--muted);margin-top:6px">ä½ çš„ç­”æ¡ˆï¼šAï¼›æ­£ç¡®ç­”æ¡ˆï¼šC</div>
                  <div style="color:var(--red);font-size:12px;margin-top:4px">ğŸ’¡ æç¤ºï¼šæ³¨æ„åŒºé—´çš„å¼€é—­æ€§è¦æ±‚</div>
                </div>
                <div class="wrong-card" data-type="calculation">
                  <div style="font-weight:600">Q6. æ±‚ y = sin(2x+1) çš„å¯¼æ•°</div>
                  <div style="color:var(--muted);margin-top:6px">ä½ çš„ç­”æ¡ˆï¼šcos(2x+1)ï¼›æ­£ç¡®ç­”æ¡ˆï¼š2cos(2x+1)</div>
                  <div style="color:var(--red);font-size:12px;margin-top:4px">ğŸ’¡ æç¤ºï¼šå¤åˆå‡½æ•°æ±‚å¯¼ï¼Œå¤–å±‚å¯¼æ•°Ã—å†…å±‚å¯¼æ•°</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ç« èŠ‚å†…å®¹è§†å›¾ -->
        <section id="viewChapterContent" class="view" style="display:none">
          <div class="panel">
            <div style="font-weight:600;margin-bottom:16px;color:var(--text)">ğŸ“– ç« èŠ‚å†…å®¹</div>
            
            <!-- ç« èŠ‚åˆ—è¡¨ -->
            <div style="display:flex;flex-direction:column;gap:16px">
              <div style="border:1px solid var(--border);border-radius:10px;padding:16px;background:var(--card)">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                  <div style="width:40px;height:40px;background:var(--primary);color:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px">1</div>
                  <div>
                    <div style="font-weight:600;color:var(--text)">ç¬¬ä¸€ç«  å‡½æ•°ä¸æé™</div>
                    <div style="color:var(--muted);font-size:13px">8ä¸ªçŸ¥è¯†ç‚¹ Â· é¢„è®¡å­¦ä¹ æ—¶é—´ 4å°æ—¶</div>
                  </div>
                  <div style="margin-left:auto">
                    <span style="background:var(--green);color:#fff;padding:2px 8px;border-radius:4px;font-size:11px">å·²å®Œæˆ</span>
                  </div>
                </div>
                <div style="color:var(--text);font-size:14px;margin-bottom:8px">ä¸»è¦å†…å®¹ï¼šå‡½æ•°çš„æ¦‚å¿µã€æé™çš„å®šä¹‰ä¸æ€§è´¨ã€è¿ç»­æ€§</div>
                <div style="display:flex;gap:8px">
                  <button class="btn btn-sm" style="background:var(--primary);color:#fff;border:none">è¿›å…¥å­¦ä¹ </button>
                  <button class="btn btn-sm" style="background:transparent;color:var(--primary);border:1px solid var(--primary)">ç« èŠ‚æµ‹è¯•</button>
                </div>
              </div>
              
              <div style="border:1px solid var(--border);border-radius:10px;padding:16px;background:var(--card)">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                  <div style="width:40px;height:40px;background:var(--orange);color:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px">2</div>
                  <div>
                    <div style="font-weight:600;color:var(--text)">ç¬¬äºŒç«  å¯¼æ•°ä¸å¾®åˆ†</div>
                    <div style="color:var(--muted);font-size:13px">10ä¸ªçŸ¥è¯†ç‚¹ Â· é¢„è®¡å­¦ä¹ æ—¶é—´ 5å°æ—¶</div>
                  </div>
                  <div style="margin-left:auto">
                    <span style="background:var(--orange);color:#fff;padding:2px 8px;border-radius:4px;font-size:11px">å­¦ä¹ ä¸­</span>
                  </div>
                </div>
                <div style="color:var(--text);font-size:14px;margin-bottom:8px">ä¸»è¦å†…å®¹ï¼šå¯¼æ•°çš„æ¦‚å¿µã€æ±‚å¯¼æ³•åˆ™ã€å¾®åˆ†çš„åº”ç”¨</div>
                <div style="display:flex;gap:8px">
                  <button class="btn btn-sm" style="background:var(--primary);color:#fff;border:none">ç»§ç»­å­¦ä¹ </button>
                  <button class="btn btn-sm" style="background:transparent;color:var(--muted);border:1px solid var(--border);cursor:not-allowed" disabled>ç« èŠ‚æµ‹è¯•</button>
                </div>
              </div>
              
              <div style="border:1px solid var(--border);border-radius:10px;padding:16px;background:var(--card)">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                  <div style="width:40px;height:40px;background:var(--muted);color:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px">3</div>
                  <div>
                    <div style="font-weight:600;color:var(--text)">ç¬¬ä¸‰ç«  ç§¯åˆ†å­¦</div>
                    <div style="color:var(--muted);font-size:13px">12ä¸ªçŸ¥è¯†ç‚¹ Â· é¢„è®¡å­¦ä¹ æ—¶é—´ 6å°æ—¶</div>
                  </div>
                  <div style="margin-left:auto">
                    <span style="background:var(--muted);color:#fff;padding:2px 8px;border-radius:4px;font-size:11px">æœªå¼€å§‹</span>
                  </div>
                </div>
                <div style="color:var(--text);font-size:14px;margin-bottom:8px">ä¸»è¦å†…å®¹ï¼šä¸å®šç§¯åˆ†ã€å®šç§¯åˆ†ã€ç§¯åˆ†çš„åº”ç”¨</div>
                <div style="display:flex;gap:8px">
                  <button class="btn btn-sm" style="background:transparent;color:var(--muted);border:1px solid var(--border);cursor:not-allowed" disabled>è¿›å…¥å­¦ä¹ </button>
                  <button class="btn btn-sm" style="background:transparent;color:var(--muted);border:1px solid var(--border);cursor:not-allowed" disabled>ç« èŠ‚æµ‹è¯•</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- è¯¾ç¨‹ä»»åŠ¡è§†å›¾ -->
        <section id="viewCourseTasks" class="view" style="display:none">
          <div class="panel">
            <div style="font-weight:600;margin-bottom:16px;color:var(--text)">ğŸ“‹ è¯¾ç¨‹ä»»åŠ¡</div>
            <!-- äºŒçº§èœå•tabs -->
            <div class="tabs" style="margin-bottom: 20px;">
              <button id="tabHW" class="active">ä½œä¸š</button>
              <button id="tabExam">è€ƒè¯•</button>
            </div>
            
            <!-- ä½œä¸šå†…å®¹ -->
            <div id="viewHW" class="sub-view">
              <div style="background:#fff7e6;padding:12px;border-radius:8px;border:1px solid #f59e0b;margin-bottom:16px">
                <div style="font-weight:600;color:#b45309;margin-bottom:4px">ğŸ“ å½“å‰ä»»åŠ¡</div>
                <div style="color:var(--text);font-size:13px">ç¬¬6ç« å¯¼æ•°ç»ƒä¹  - æˆªæ­¢æ—¶é—´ï¼š12æœˆ20æ—¥ 23:59</div>
                <div style="margin-top:8px">
                  <span style="background:#f59e0b;color:#fff;padding:2px 8px;border-radius:4px;font-size:11px">è¿›è¡Œä¸­</span>
                  <span style="color:#b45309;font-size:12px;margin-left:8px">å·²å®Œæˆä»»åŠ¡ç‚¹: 0/10</span>
                </div>
              </div>
              
              <div style="display:flex;flex-direction:column;gap:12px">
                <div class="hw-card" style="cursor:pointer">
                  <div style="display:flex;align-items:center;gap:12px">
                    <div style="color:var(--orange)">ğŸ“‹</div>
                    <div style="flex:1">
                      <div style="font-weight:600">ç¬¬6ç«  å¯¼æ•°è¿ç®—</div>
                      <div style="color:var(--muted);font-size:13px;margin-top:2px">æˆªæ­¢ï¼š12-20 23:59 | 10ä¸ªä»»åŠ¡ç‚¹</div>
                    </div>
                    <div style="color:var(--orange);font-size:12px;padding:2px 6px;background:#fff7e6;border-radius:4px">è¿›è¡Œä¸­</div>
                  </div>
                </div>
                <div class="hw-card" style="cursor:pointer">
                  <div style="display:flex;align-items:center;gap:12px">
                    <div style="color:var(--green)">âœ…</div>
                    <div style="flex:1">
                      <div style="font-weight:600">ç¬¬5ç«  å¾®åˆ†ä¸­å€¼å®šç†</div>
                      <div style="color:var(--muted);font-size:13px;margin-top:2px">æˆªæ­¢ï¼š12-15 23:59 | 8ä¸ªä»»åŠ¡ç‚¹</div>
                    </div>
                    <div style="color:var(--green);font-size:12px;padding:2px 6px;background:#f0f9ff;border-radius:4px">å·²å®Œæˆ</div>
                  </div>
                </div>
                <div class="hw-card" style="cursor:pointer">
                  <div style="display:flex;align-items:center;gap:12px">
                    <div style="color:var(--green)">âœ…</div>
                    <div style="flex:1">
                      <div style="font-weight:600">ç¬¬4ç«  å‡½æ•°çš„æ€§è´¨</div>
                      <div style="color:var(--muted);font-size:13px;margin-top:2px">æˆªæ­¢ï¼š12-10 23:59 | 6ä¸ªä»»åŠ¡ç‚¹</div>
                    </div>
                    <div style="color:var(--green);font-size:12px;padding:2px 6px;background:#f0f9ff;border-radius:4px">å·²å®Œæˆ</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- è€ƒè¯•å†…å®¹ -->
            <div id="viewExam" class="sub-view" style="display:none">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
                <div style="color:var(--muted)">ç­›é€‰:</div>
                <div style="display:flex;gap:8px">
                  <label style="display:flex;align-items:center;gap:4px;font-size:13px">
                    <input type="radio" name="examFilter" value="all" checked style="margin:0">
                    å…¨éƒ¨
                  </label>
                  <label style="display:flex;align-items:center;gap:4px;font-size:13px">
                    <input type="radio" name="examFilter" value="completed" style="margin:0">
                    å·²å®Œæˆ
                  </label>
                  <label style="display:flex;align-items:center;gap:4px;font-size:13px">
                    <input type="radio" name="examFilter" value="uncompleted" style="margin:0">
                    æœªå®Œæˆ
                  </label>
                </div>
              </div>

              <div style="display:flex;flex-direction:column;gap:12px">
                <div class="exam-card" style="cursor:pointer">
                  <div style="display:flex;align-items:center;justify-content:space-between">
                    <div style="display:flex;align-items:center;gap:12px">
                      <div style="color:var(--red)">ğŸ“</div>
                      <div>
                        <div style="font-weight:600">æœŸæœ«è€ƒè¯•</div>
                        <div style="color:var(--muted);font-size:13px;margin-top:2px">è€ƒè¯•æ—¶é—´ï¼š12æœˆ25æ—¥ 14:00-16:00</div>
                      </div>
                    </div>
                    <div style="color:var(--muted);font-size:12px;padding:2px 6px;background:#f3f4f6;border-radius:4px">æš‚æ— è€ƒè¯•</div>
                  </div>
                </div>
                <div class="exam-card" style="cursor:pointer">
                  <div style="display:flex;align-items:center;justify-content:space-between">
                    <div style="display:flex;align-items:center;gap:12px">
                      <div style="color:var(--orange)">ğŸ“‹</div>
                      <div>
                        <div style="font-weight:600">æœŸä¸­è€ƒè¯•</div>
                        <div style="color:var(--muted);font-size:13px;margin-top:2px">è€ƒè¯•æ—¶é—´ï¼š11æœˆ20æ—¥ 14:00-16:00</div>
                      </div>
                    </div>
                    <div style="color:var(--orange);font-size:12px;padding:2px 6px;background:#fff7e6;border-radius:4px">å¾…è¯„åˆ†</div>
                  </div>
                </div>
                <div class="exam-card" style="cursor:pointer">
                  <div style="display:flex;align-items:center;justify-content:space-between">
                    <div style="display:flex;align-items:center;gap:12px">
                      <div style="color:var(--green)">âœ…</div>
                      <div>
                        <div style="font-weight:600">ç¬¬ä¸€æ¬¡æœˆè€ƒ</div>
                        <div style="color:var(--muted);font-size:13px;margin-top:2px">è€ƒè¯•æ—¶é—´ï¼š10æœˆ15æ—¥ 14:00-16:00</div>
                      </div>
                    </div>
                    <div style="display:flex;align-items:center;gap:8px">
                      <div style="color:var(--green);font-size:12px;padding:2px 6px;background:#f0f9ff;border-radius:4px">å·²å®Œæˆ</div>
                      <div style="font-weight:600;color:var(--text)">85åˆ†</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- è¯¾ç¨‹é¢˜åº“è§†å›¾ -->


      </div>
    </main>
  </div>

  <script>
    const params = new URLSearchParams(location.search);
    const courseParam = params.get('course');
    if (!courseParam) {
      // åªæœ‰ä»è¯¾ç¨‹åˆ—è¡¨è¿›å…¥ï¼ˆå¸¦æœ‰ course å‚æ•°ï¼‰æ‰å…è®¸è®¿é—®
      location.replace('index.html#courses');
    }
    document.getElementById('courseName').textContent = courseParam || 'è¯¾ç¨‹åç§°';

    // æ—§çš„é¡¶çº§viewså·²åˆ é™¤ï¼Œç°åœ¨åªæœ‰å­è§†å›¾ç”±ä¸“é—¨çš„å¤„ç†å‡½æ•°ç®¡ç†

                    const sidebarViews = {
          linkLearningRecord: 'viewLearningRecord',
          linkChapterContent: 'viewChapterContent',
          linkCourseTasks: 'viewCourseTasks'
        };
    

    // æ—§çš„tabsç‚¹å‡»äº‹ä»¶å·²åˆ é™¤ï¼Œç°åœ¨ä½¿ç”¨ä¾§è¾¹æ å¯¼èˆª

    // å¤„ç†ä¾§è¾¹æ èœå•é¡¹ç‚¹å‡»äº‹ä»¶
    Object.keys(sidebarViews).forEach(id => {
      document.getElementById(id).onclick = (e) => {
        e.preventDefault();
        // åˆ‡æ¢è§†å›¾
        Object.values(sidebarViews).forEach(v => document.getElementById(v).style.display = 'none');
        document.getElementById(sidebarViews[id]).style.display = '';
        // æ¸…é™¤æ‰€æœ‰tabsçš„activeçŠ¶æ€ï¼ˆå› ä¸ºç°åœ¨ç”¨ä¾§è¾¹æ å¯¼èˆªï¼‰
        // æ›´æ–°ä¾§è¾¹æ èœå•çŠ¶æ€
        document.querySelectorAll('.menu a').forEach(a => a.classList.remove('active'));
        e.target.classList.add('active');
      };
    });

    document.getElementById('btnRandom')?.addEventListener('click', () => {
      alert('å¼€å§‹éšæœºç»ƒä¹ é”™é¢˜ï¼ˆç¤ºä¾‹ï¼‰');
    });

    // è®¾ç½®â€œå»å½“å¤©å›æ”¾â€é“¾æ¥å¸¦è¯¾ç¨‹å‚æ•°
    ['goRe1','goRe2','goRe3','goRe4','goRe5','goRe6'].forEach(id=>{
      const a = document.getElementById(id);
              if(a){ a.href = `liveroom_off.html?course=${encodeURIComponent(courseParam)}&mode=replay&from=detail`; }
    });

    // å¤„ç†å­¦ä¹ è®°å½•å­èœå•åˆ‡æ¢
    const learningSubViews = {
      tabLog: 'viewLog',
      tabProfile: 'viewProfile', 
      tabWrong: 'viewWrong'
    };

    Object.keys(learningSubViews).forEach(tabId => {
      const tabBtn = document.getElementById(tabId);
      if (tabBtn) {
        tabBtn.onclick = (e) => {
          e.preventDefault();
          // éšè—æ‰€æœ‰å­¦ä¹ è®°å½•çš„å­è§†å›¾
          Object.values(learningSubViews).forEach(viewId => {
            const view = document.getElementById(viewId);
            if (view) view.style.display = 'none';
          });
          // æ˜¾ç¤ºé€‰ä¸­çš„å­è§†å›¾
          const targetView = document.getElementById(learningSubViews[tabId]);
          if (targetView) targetView.style.display = '';
          
          // æ›´æ–°tabæŒ‰é’®çŠ¶æ€
          document.querySelectorAll('#viewLearningRecord .tabs button').forEach(btn => {
            btn.classList.remove('active');
          });
          tabBtn.classList.add('active');
        };
      }
    });

    // å¤„ç†è¯¾ç¨‹ä»»åŠ¡å­èœå•åˆ‡æ¢
    const taskSubViews = {
      tabHW: 'viewHW',
      tabExam: 'viewExam'
    };

    Object.keys(taskSubViews).forEach(tabId => {
      const tabBtn = document.getElementById(tabId);
      if (tabBtn) {
        tabBtn.onclick = (e) => {
          e.preventDefault();
          // éšè—æ‰€æœ‰è¯¾ç¨‹ä»»åŠ¡çš„å­è§†å›¾
          Object.values(taskSubViews).forEach(viewId => {
            const view = document.getElementById(viewId);
            if (view) view.style.display = 'none';
          });
          // æ˜¾ç¤ºé€‰ä¸­çš„å­è§†å›¾
          const targetView = document.getElementById(taskSubViews[tabId]);
          if (targetView) targetView.style.display = '';
          
          // æ›´æ–°tabæŒ‰é’®çŠ¶æ€
          document.querySelectorAll('#viewCourseTasks .tabs button').forEach(btn => {
            btn.classList.remove('active');
          });
          tabBtn.classList.add('active');
        };
      }
    });

    // ä¸ªäººä¸­å¿ƒå’Œé€€å‡ºåŠŸèƒ½
    function goToProfile() {
      window.location.href = 'profile.html';
    }

    function logout() {
      if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
        alert('å·²é€€å‡ºç™»å½•');
        // è¿™é‡Œå¯ä»¥æ·»åŠ å®é™…çš„é€€å‡ºé€»è¾‘
        // window.location.href = 'login.html';
      }
    }

    // é¢˜ç›®ç­›é€‰åŠŸèƒ½
    function filterQuestions(type) {
      const questionCards = document.querySelectorAll('.wrong-card');
      const questionCount = document.getElementById('questionCount');
      let visibleCount = 0;

      questionCards.forEach(card => {
        if (type === 'all' || card.getAttribute('data-type') === type) {
          card.style.display = 'block';
          visibleCount++;
        } else {
          card.style.display = 'none';
        }
      });

      // æ›´æ–°é¢˜ç›®æ•°é‡æ˜¾ç¤º
      if (questionCount) {
        questionCount.textContent = visibleCount;
      }

      // æ›´æ–°ç­›é€‰æŒ‰é’®çŠ¶æ€
      document.querySelectorAll('.question-filter').forEach(btn => {
        btn.classList.remove('active');
        btn.style.background = '#fff';
        btn.style.borderColor = 'var(--border)';
        btn.style.color = 'var(--text)';
      });

      const activeBtn = document.querySelector(`.question-filter[data-type="${type}"]`);
      if (activeBtn) {
        activeBtn.classList.add('active');
        activeBtn.style.background = 'var(--primary)';
        activeBtn.style.borderColor = 'var(--primary)';
        activeBtn.style.color = '#fff';
      }
    }

    // ç»‘å®šç­›é€‰æŒ‰é’®äº‹ä»¶
    document.addEventListener('DOMContentLoaded', function() {
      const filterButtons = document.querySelectorAll('.question-filter');
      filterButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          const type = this.getAttribute('data-type');
          filterQuestions(type);
        });
      });
    });
  </script>

</body>
</html>




