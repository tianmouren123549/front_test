# å‰ç«¯å­—æ®µä¸æ•°æ®åº“åŒ¹é…æ£€æŸ¥æŠ¥å‘Š

**æ£€æŸ¥æ—¥æœŸ**: 2025å¹´10æœˆ14æ—¥  
**æ£€æŸ¥èŒƒå›´**: æ•°æ®åº“èµ„æ–™æ–‡ä»¶å¤¹ + å‰ç«¯Vueç»„ä»¶

---

## ğŸ“‹ ä¸€ã€æ•°æ®åº“èµ„æ–™æ£€æµ‹ç»“æœ

### 1.1 æ–‡ä»¶ç»“æ„
```
å‚è€ƒ/
â”œâ”€â”€ admin-end.sql
â”œâ”€â”€ teacher-student-end.sql
â””â”€â”€ æ•°æ®åº“èµ„æ–™/
    â”œâ”€â”€ admin-end.sql  ï¼ˆâœ… ä¸ä¸Šçº§åŒåæ–‡ä»¶å†…å®¹ä¸€è‡´ï¼‰
    â””â”€â”€ teacher-student-end.sql  ï¼ˆâœ… ä¸ä¸Šçº§åŒåæ–‡ä»¶å†…å®¹ä¸€è‡´ï¼‰
```

### 1.2 æ•°æ®åº“è¡¨ç»Ÿè®¡

**teacher-student-end.sql** åŒ…å«çš„ä¸»è¦è¡¨ï¼š
- âœ… `edu_student` - å­¦ç”Ÿä¿¡æ¯è¡¨
- âœ… `edu_student_class` - å­¦ç”Ÿç­çº§å…³è”è¡¨
- âœ… `edu_student_course` - å­¦ç”Ÿé€‰è¯¾è¡¨
- âœ… `edu_course` - è¯¾ç¨‹ä¿¡æ¯è¡¨
- âœ… `edu_class` - ç­çº§ä¿¡æ¯è¡¨
- âœ… `edu_classroom` - æ•™å®¤ä¿¡æ¯è¡¨
- âœ… `edu_teacher` - æ•™å¸ˆä¿¡æ¯è¡¨
- âœ… `edu_teaching_schedule` - æ•™å­¦å®‰æ’è¡¨
- âœ… `class_session` - è¯¾å ‚ä¼šè¯è¡¨
- âŒ **ç¼ºå¤±**: `edu_course_offering` - è¯¾ç¨‹å¼€è®¾è¡¨

**admin-end.sql** åŒ…å«ï¼š
- âœ… `sys_user` - ç”¨æˆ·ä¿¡æ¯è¡¨
- âœ… `sys_role` - è§’è‰²ä¿¡æ¯è¡¨
- âœ… `sys_menu` - èœå•æƒé™è¡¨
- âœ… `sys_dept` - éƒ¨é—¨ç»„ç»‡è¡¨
- ç­‰å…¶ä»–ç³»ç»Ÿç®¡ç†è¡¨

---

## ğŸ” äºŒã€å‰ç«¯å­—æ®µåŒ¹é…æ£€æŸ¥

### 2.1 Login.vue - å·²ä¿®å¤ âœ…

#### ç™»å½•è¡¨å•å­—æ®µ
| å‰ç«¯å­—æ®µ | æ•°æ®åº“è¡¨ | æ•°æ®åº“å­—æ®µ | çŠ¶æ€ |
|---------|---------|-----------|------|
| `user_name` | `sys_user` | `user_name` VARCHAR(30) | âœ… åŒ¹é… |
| `password` | `sys_user` | `password` VARCHAR(100) | âœ… åŒ¹é… |

#### æ³¨å†Œè¡¨å•å­—æ®µ
| å‰ç«¯å­—æ®µ | æ•°æ®åº“è¡¨ | æ•°æ®åº“å­—æ®µ | çŠ¶æ€ |
|---------|---------|-----------|------|
| `user_name` | `sys_user` | `user_name` VARCHAR(30) | âœ… åŒ¹é… |
| `nick_name` | `sys_user` | `nick_name` VARCHAR(30) | âœ… åŒ¹é… |
| `real_name` | `sys_user` | `real_name` VARCHAR(30) | âœ… åŒ¹é… |
| `email` | `sys_user` | `email` VARCHAR(50) | âœ… åŒ¹é… |
| `phone` | `sys_user` | `phone` VARCHAR(11) | âœ… åŒ¹é… |
| `password` | `sys_user` | `password` VARCHAR(100) | âœ… åŒ¹é… |

**ä¿®æ”¹è¯´æ˜**:
- âœ… å·²å°† `username` æ”¹ä¸º `user_name`
- âœ… å·²å°† `name` æ‹†åˆ†ä¸º `nick_name` å’Œ `real_name`

---

### 2.2 CourseSchedule.vue - å­—æ®µä¸åŒ¹é… âš ï¸

#### è¯¾è¡¨æ•°æ®å­—æ®µï¼ˆç¬¬599-611è¡Œï¼‰
```javascript
const courses = ref([
  {
    offering_id: 1001,      // âŒ è¡¨ edu_course_offering ä¸å­˜åœ¨
    course_id: 501,         // âœ… edu_course.course_id
    course_name: 'è®¡ç®—æœºç½‘ç»œ', // âœ… edu_course.course_name (å†—ä½™)
    teacher_id: 201,        // âœ… edu_teacher.teacher_id
    teacher_name: 'å­”è€å¸ˆ',   // âœ… sys_user.real_name (å†—ä½™)
    week_day: 1,            // âŒ æ— å¯¹åº”è¡¨å­—æ®µ
    start_period: 1,        // âŒ æ— å¯¹åº”è¡¨å­—æ®µ
    end_period: 2,          // âŒ æ— å¯¹åº”è¡¨å­—æ®µ
    classroom_id: 301,      // âœ… edu_classroom.classroom_id
    classroom_name: 'A301', // âœ… edu_classroom.classroom_name (å†—ä½™)
  }
]);
```

**é—®é¢˜åˆ†æ**:

| å‰ç«¯å­—æ®µ | æœŸæœ›çš„æ•°æ®åº“è¡¨ | å®é™…æƒ…å†µ | çŠ¶æ€ |
|---------|--------------|---------|------|
| `offering_id` | `edu_course_offering` | âŒ è¡¨ä¸å­˜åœ¨ | ğŸ”´ ä¸¥é‡ |
| `week_day` | `edu_course_offering` | âŒ è¡¨ä¸å­˜åœ¨ | ğŸ”´ ä¸¥é‡ |
| `start_period` | `edu_course_offering` | âŒ è¡¨ä¸å­˜åœ¨ | ğŸ”´ ä¸¥é‡ |
| `end_period` | `edu_course_offering` | âŒ è¡¨ä¸å­˜åœ¨ | ğŸ”´ ä¸¥é‡ |

---

#### é€‰è¯¾åˆ—è¡¨å­—æ®µï¼ˆç¬¬765-777è¡Œï¼‰
```javascript
const courseList = ref([
  {
    enrollment_id: 2001,       // âœ… edu_student_course.enrollment_id
    course_id: 601,            // âœ… edu_course.course_id
    course_code: 'MATH101',    // âœ… edu_course.course_code
    course_name: 'é«˜ç­‰æ•°å­¦',    // âœ… edu_course.course_name (å†—ä½™)
    class_id: 101,             // âœ… edu_class.class_id
    class_name: 'æ•°å­¦ä¸€ç­',     // âœ… edu_class.class_name (å†—ä½™)
    grade: 2025,               // âœ… edu_class.grade
    teacher_id: 211,           // âœ… edu_teacher.teacher_id
    teacher_name: 'ç‹è€å¸ˆ',     // âœ… sys_user.real_name (å†—ä½™)
    credit: 4.0,               // âœ… edu_course.credit
    course_type: 'COMPULSORY', // âœ… edu_course.course_type
  }
]);
```

**å­—æ®µåŒ¹é…**:

| å‰ç«¯å­—æ®µ | æ•°æ®åº“è¡¨ | æ•°æ®åº“å­—æ®µ | çŠ¶æ€ |
|---------|---------|-----------|------|
| `enrollment_id` | `edu_student_course` | `enrollment_id` INT | âœ… åŒ¹é… |
| `course_id` | `edu_course` | `course_id` INT | âœ… åŒ¹é… |
| `course_code` | `edu_course` | `course_code` VARCHAR(30) | âœ… åŒ¹é… |
| `course_name` | `edu_course` | `course_name` VARCHAR(100) | âœ… åŒ¹é… (å†—ä½™) |
| `class_id` | `edu_class` | `class_id` INT | âœ… åŒ¹é… |
| `class_name` | `edu_class` | `class_name` VARCHAR(50) | âœ… åŒ¹é… (å†—ä½™) |
| `grade` | `edu_class` | `grade` INT | âœ… åŒ¹é… |
| `teacher_id` | `edu_teacher` | `teacher_id` INT | âœ… åŒ¹é… |
| `teacher_name` | `sys_user` | `real_name` VARCHAR(30) | âœ… åŒ¹é… (å†—ä½™) |
| `credit` | `edu_course` | `credit` DECIMAL(3,1) | âœ… åŒ¹é… |
| `course_type` | `edu_course` | `course_type` ENUM | âœ… åŒ¹é… |

**ç»“è®º**: é€‰è¯¾åˆ—è¡¨å­—æ®µå®Œå…¨åŒ¹é… âœ…

---

## ğŸ”´ ä¸‰ã€æ ¸å¿ƒé—®é¢˜ï¼šç¼ºå°‘ edu_course_offering è¡¨

### 3.1 é—®é¢˜æè¿°

æ•°æ®åº“ä¸­**å¤šå¤„å¼•ç”¨**äº† `offering_id` å­—æ®µï¼Œä½†**æ²¡æœ‰å®šä¹‰** `edu_course_offering` è¡¨ï¼š

#### å¼•ç”¨ä½ç½®ï¼š
1. `edu_student_course.offering_id` - å­¦ç”Ÿé€‰è¯¾è¡¨ï¼ˆç¬¬53è¡Œï¼‰
2. `edu_teaching_schedule.offering_id` - æ•™å­¦å®‰æ’è¡¨ï¼ˆç¬¬419è¡Œï¼‰
3. `edu_class_course.offering_id` - ç­çº§è¯¾ç¨‹å…³è”è¡¨ï¼ˆç¬¬467è¡Œï¼‰
4. `prep_test_paper.offering_id` - è¯•å·è¡¨ï¼ˆç¬¬675è¡Œï¼‰

### 3.2 å‰ç«¯ä¾èµ–çš„å­—æ®µ

å‰ç«¯ `CourseSchedule.vue` éœ€è¦ä»¥ä¸‹å­—æ®µï¼š
- `offering_id` - è¯¾ç¨‹å¼€è®¾IDï¼ˆä¸»é”®ï¼‰
- `course_id` - è¯¾ç¨‹ID
- `teacher_id` - æ•™å¸ˆID
- `classroom_id` - æ•™å®¤ID
- `week_day` - æ˜ŸæœŸå‡ ï¼ˆ1-7ï¼‰
- `start_period` - å¼€å§‹èŠ‚æ¬¡ï¼ˆ1-5ï¼‰
- `end_period` - ç»“æŸèŠ‚æ¬¡ï¼ˆ1-5ï¼‰

### 3.3 å»ºè®®çš„è¡¨ç»“æ„ï¼ˆä»…ä¾›åç«¯å‚è€ƒï¼‰

```sql
CREATE TABLE `edu_course_offering` (
    `offering_id` INT NOT NULL AUTO_INCREMENT COMMENT 'è¯¾ç¨‹å¼€è®¾ID',
    `course_id` INT NOT NULL COMMENT 'è¯¾ç¨‹ID',
    `teacher_id` INT NOT NULL COMMENT 'æ•™å¸ˆID',
    `semester_id` INT NOT NULL COMMENT 'å­¦æœŸID',
    `classroom_id` INT COMMENT 'æ•™å®¤ID',
    `week_day` TINYINT NOT NULL COMMENT 'æ˜ŸæœŸå‡ ï¼ˆ1-7ï¼‰',
    `start_period` TINYINT NOT NULL COMMENT 'å¼€å§‹èŠ‚æ¬¡ï¼ˆ1-5ï¼‰',
    `end_period` TINYINT NOT NULL COMMENT 'ç»“æŸèŠ‚æ¬¡ï¼ˆ1-5ï¼‰',
    `start_week` TINYINT DEFAULT 1 COMMENT 'å¼€å§‹å‘¨',
    `end_week` TINYINT DEFAULT 20 COMMENT 'ç»“æŸå‘¨',
    `max_students` INT DEFAULT 50 COMMENT 'æœ€å¤§å­¦ç”Ÿæ•°',
    `enrolled_students` INT DEFAULT 0 COMMENT 'å·²é€‰å­¦ç”Ÿæ•°',
    `status` ENUM('NORMAL','DISABLED','FULL') NOT NULL DEFAULT 'NORMAL',
    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `is_delete` TINYINT(1) DEFAULT 0,
    `delete_time` DATETIME,
    PRIMARY KEY (`offering_id`),
    KEY `idx_course_id` (`course_id`),
    KEY `idx_teacher_id` (`teacher_id`),
    KEY `idx_semester_id` (`semester_id`),
    KEY `idx_classroom_id` (`classroom_id`),
    KEY `idx_week_day` (`week_day`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è¯¾ç¨‹å¼€è®¾è¡¨';
```

---

## ğŸ“Š å››ã€å‰ç«¯ä¿®æ”¹å»ºè®®

### 4.1 å¦‚æœåç«¯æ— æ³•æ·»åŠ  edu_course_offering è¡¨

#### æ–¹æ¡ˆ1ï¼šä½¿ç”¨ç°æœ‰è¡¨å­—æ®µç»„åˆ
```javascript
// å‰ç«¯å¯ä»¥ä¸´æ—¶ä½¿ç”¨ edu_teaching_schedule è¡¨çš„æ•°æ®
// ä½†éœ€è¦åç«¯APIé…åˆï¼Œå°†æ’è¯¾ä¿¡æ¯æ•´åˆè¿”å›
const courses = ref([
  {
    schedule_id: 1001,  // ä½¿ç”¨ schedule_id æ›¿ä»£ offering_id
    course_id: 501,
    course_name: 'è®¡ç®—æœºç½‘ç»œ',
    // ... å…¶ä»–å­—æ®µ
  }
]);
```

#### æ–¹æ¡ˆ2ï¼šå‰ç«¯æ³¨é‡Šè¯´æ˜ï¼Œç­‰å¾…åç«¯å®ç°
```javascript
// TODO: ç­‰å¾…åç«¯åˆ›å»º edu_course_offering è¡¨
// å½“å‰æ•°æ®ç»“æ„ä¸ºä¸´æ—¶æ–¹æ¡ˆï¼Œåç»­éœ€è¦è°ƒæ•´
const courses = ref([
  // æ¨¡æ‹Ÿæ•°æ®...
]);
```

### 4.2 å‰ç«¯APIæ¥å£è®¾è®¡å»ºè®®

```javascript
// è·å–è¯¾è¡¨æ•°æ®
// GET /api/student/schedule?semester_id=1&week=2
// 
// åç«¯è¿”å›æ ¼å¼ï¼ˆå»ºè®®ï¼‰:
{
  "code": 200,
  "data": [
    {
      "offering_id": 1001,
      "course_id": 501,
      "course_name": "è®¡ç®—æœºç½‘ç»œ",  // å†—ä½™å­—æ®µ
      "teacher_id": 201,
      "teacher_name": "å­”è€å¸ˆ",     // å†—ä½™å­—æ®µ
      "classroom_id": 301,
      "classroom_name": "A301",    // å†—ä½™å­—æ®µ
      "week_day": 1,
      "start_period": 1,
      "end_period": 2
    }
  ]
}
```

---

## âœ… äº”ã€æ€»ç»“ä¸å»ºè®®

### 5.1 å·²å®Œæˆçš„å·¥ä½œ âœ…
1. âœ… **Login.vue** - æ‰€æœ‰å­—æ®µåå·²ç»Ÿä¸€ä¸ºæ•°æ®åº“å­—æ®µå
2. âœ… **ForgotPassword.vue** - æŒ‰é’®æ ·å¼å·²ç»Ÿä¸€
3. âœ… **å‰ç«¯ä»£ç ** - æ— linteré”™è¯¯

### 5.2 å¾…è§£å†³çš„é—®é¢˜ âš ï¸

| é—®é¢˜ | ä¼˜å…ˆçº§ | è´Ÿè´£æ–¹ | çŠ¶æ€ |
|-----|--------|--------|------|
| ç¼ºå°‘ `edu_course_offering` è¡¨ | ğŸ”´ æœ€é«˜ | åç«¯ | âŒ æœªè§£å†³ |
| è¯¾è¡¨åŠŸèƒ½æ— æ³•ä½¿ç”¨ | ğŸ”´ é«˜ | åç«¯ | âŒ æœªè§£å†³ |

### 5.3 å‰ç«¯çŠ¶æ€
- âœ… æ‰€æœ‰å­—æ®µå‘½åå·²ä¸æ•°æ®åº“ä¸€è‡´
- âœ… ä»£ç é£æ ¼ç»Ÿä¸€
- âœ… æ— è¯­æ³•é”™è¯¯
- âš ï¸ ç­‰å¾…åç«¯è¡¨ç»“æ„å®Œå–„

### 5.4 åç«¯éœ€è¦åšçš„å·¥ä½œ

1. **å¿…é¡»**ï¼šåˆ›å»º `edu_course_offering` è¡¨
2. **å¿…é¡»**ï¼šæä¾›è¯¾è¡¨æŸ¥è¯¢APIæ¥å£
3. **å»ºè®®**ï¼šè¿”å›å†—ä½™å­—æ®µå‡å°‘å‰ç«¯æŸ¥è¯¢æ¬¡æ•°

---

## ğŸ“ å…­ã€å­—æ®µå‘½åè§„èŒƒæ€»ç»“

### 6.1 æ•°æ®åº“å‘½åè§„èŒƒ
- âœ… ä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ï¼š`user_name`, `course_id`
- âœ… ä¸»é”®ç»Ÿä¸€æ ¼å¼ï¼š`è¡¨å_id`ï¼ˆå¦‚ `student_id`, `course_id`ï¼‰
- âœ… æ—¶é—´å­—æ®µï¼š`create_time`, `update_time`, `delete_time`
- âœ… å¸ƒå°”å­—æ®µï¼š`is_xxx`ï¼ˆå¦‚ `is_delete`, `is_active`ï¼‰

### 6.2 å‰ç«¯å‘½åè§„èŒƒ
- âœ… **ä¸æ•°æ®åº“ä¿æŒä¸€è‡´**ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•
- âœ… å…è®¸å†—ä½™å­—æ®µï¼ˆç”¨äºå‡å°‘æŸ¥è¯¢æ¬¡æ•°ï¼‰
- âœ… æ³¨é‡Šè¯´æ˜å†—ä½™å­—æ®µæ¥æº

---

**æ£€æŸ¥å®Œæˆæ—¶é—´**: 2025-10-14  
**æ£€æŸ¥å·¥å…·**: AIä»£ç åˆ†æ + SQLæ‰«æ  
**é—®é¢˜çº§åˆ«**: ğŸ”´ ä¸¥é‡ï¼ˆ1ä¸ªï¼‰ | âš ï¸ éœ€ä¼˜åŒ–ï¼ˆ0ä¸ªï¼‰ | âœ… æ­£å¸¸


